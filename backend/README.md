<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [db][1]
    -   [DbInitializer][2]
        -   [Parameters][3]
    -   [init][4]
-   [logger][5]
    -   [initLogging][6]
        -   [Parameters][7]
    -   [getLogger][8]
        -   [Parameters][9]
    -   [logErrorsOnly][10]
-   [migration][11]
    -   [runMigration][12]
        -   [Parameters][13]

## db

Database connection handling.


### DbInitializer

Constructs new object containing `init` function and `db` object

#### Parameters

-   `dbConfig` **[object][14]** DB configuration object
    -   `dbConfig.url` **([string][15] \| [Array][16])** DB connection URL or an array of URLs
    -   `dbConfig.options` **[object][14]** DB connection options
-   `loggerFactory` **[object][14]** object containing `getLogger` function
-   `modelsDir` **[string][15]** directory for models lookup
-   `modelExcludes` **[Array][16]** list of files to be excluded from model definitions discovered by reading models
    directory as specified by `modelsDir` argument (optional, default `[]`)

### init

Initializes DB connection

Returns **[Promise][17]&lt;void>** promise resolving once connection is established

## logger

Logging handling.


### initLogging

Initializes logging framework according to the given config

#### Parameters

-   `config` **[object][14]** configuration object
    -   `config.logLevelConf` **[string][15]** path to manager's logging.conf file
    -   `config.logLevel` **[string][15]** default log level to be used when
    -   `config.logsFile` **[string][15]** path to main log file
    -   `config.errorsFile` **[string][15]** path to errors log file

Returns **[object][14]** object containing `getLogger` and `logErrorsOnly` functions

### getLogger

Returns logger for given category

#### Parameters

-   `category` **[string][15]** category

Returns **[object][14]** winston logger instance

### logErrorsOnly

Sets threshold log level to `error`

## migration

Database migration handling.


### runMigration

Runs migration script

#### Parameters

-   `loggerFactory` **[object][14]** initialized logger factory
-   `dbModule` **[object][14]** DB module, an object containing `init` function and `db` object

[1]: #db

[2]: #dbinitializer

[3]: #parameters

[4]: #init

[5]: #logger

[6]: #initlogging

[7]: #parameters-1

[8]: #getlogger

[9]: #parameters-2

[10]: #logerrorsonly

[11]: #migration

[12]: #runmigration

[13]: #parameters-3

[14]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[15]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[16]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
